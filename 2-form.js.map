{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["// console.log(\"Form\");\n\nlet formData = {\n    email: \"\",\n    message: \"\"\n};\n\n    const form = document.querySelector(\".feedback-form\");\n\n    function saveLocalStorage() {\n        localStorage.setItem('feedback-form-state', JSON.stringify(formData));\n    }\n\n    function loadLocalStorage() {\n        const saveData = localStorage.getItem('feedback-form-state');\n        if (saveData) {\n            formData = JSON.parse(saveData);\n            form.elements.email.value = formData.email;\n            form.elements.message.value = formData.message;\n        }\n    }\n\n    form.addEventListener('input', function(event) {\n        formData[event.target.name] = event.target.value;\n        saveLocalStorage();\n    });\n\n    document.addEventListener('DOMContentLoaded', function(event) {\n        loadLocalStorage();\n    });\n\n    form.addEventListener('submit', function(event) {\n        event.preventDefault();\n        if (!formData.email.trim() || !formData.message.trim()) {\n            alert('Fill please all fields');\n        } else {\n            console.log(formData);\n            localStorage.removeItem('feedback-form-state');\n            formData = { email: \"\", message: \"\"};\n            form.reset();\n        }\n    });\n\n\n    // Якщо імейл і пароль користувача збігаються, зберігай дані з форми при сабміті\n// у локальне сховище і змінюй кнопку Login на Logout і роби поля введення\n// недоступними для змін.\n// При перезавантаженні сторінки, якщо користувач залогінений, ми маємо бачити Logout-кнопку\n// та недоступні для зміни поля з даними користувача.\n// Клік по кнопці Logout повертає все до початкового вигляду і видаляє дані користувача\n// З локального сховища.\n// Якщо введені дані не збігаються з потрібними даними, викликати аlert і\n// повідомляти про помилку \"Wrong email or password!\".\n\n\nconst USER_DATA = {\n  email: \"user@mail.com\",\n  password: \"secret\",\n};\n \nconst loginForm = document.querySelector('#login-form');\nconst loginBtn = document.querySelector('.login-btn');\nconst emailInput = document.querySelector('[name=\"email\"]');\nconst passwordInput = document.querySelector('[name=\"password\"]');\n\nloginForm.addEventListener('submit', login);\n\nfunction login(event) {\n    event.preventDefault();\n    const {email, password} = event.target.elements;\n    if (loginBtn.textContent === 'Logout') {\n        loginForm.reset();\n        localStorage.removeItem('login-form');\n        email.removeAttribute('readonly');\n        password.removeAttribute('readonly');\n        loginBtn.textContent = 'Login';\n        return\n    }\n    // console.log(event.target.elements);\n    const emailValue = email.value.trim();\n    const passwordValue = password.value.trim();\n    if (emailValue === '' || passwordValue === '') {\n        alert('Fill all fields');\n        return\n    }\n    if (emailValue !== USER_DATA.email || passwordValue !== USER_DATA.password) {\n        alert('Wrong email or password!');\n        return\n    }\n    localStorage.setItem('login-form', JSON.stringify({email: emailValue, password: passwordValue}));\n    loginBtn.textContent = 'Logout';\n    email.setAttribute('readonly', true);\n    password.setAttribute('readonly', true);\n}\n\nfromLS();\n\nfunction fromLS() {\n    const savedData = localStorage.getItem('login-form');\n    if (savedData) {\n        const parsedData = JSON.parse(savedData);\n        emailInput.value = parsedData.email ?? '';\n        passwordInput.value = parsedData.password ?? '';\n        loginBtn.textContent = 'Logout';\n    email.setAttribute('readonly', true);\n    password.setAttribute('readonly', true);\n    }\n}\n\n// Зробити перемикач теми. Зберігати тему у локальному сховище.\n// При перезавантаженні сторінки перевіряти сховище та ставити тему, яка там вказана.\n// Додати класи для змін тем\n\nconst checkbox = document.querySelector('.switcher-toggle');\ncheckbox.addEventListener('change', changeTheme);\nfunction changeTheme(event) {\n    console.log(event.target.checked);\n    if (event.target.checked) {\n        document.body.classList.add('dark');\n        localStorage.setItem(\"theme\", 'dark');\n        document.body.classList.remove('light');\n    } else { document.body.classList.remove('dark');\n        document.body.classList.add('light');\n        localStorage.setItem(\"theme\", 'light');\n    }\n}\n\nif (localStorage.getItem(\"theme\") === 'dark') {\n    console.log('dark');\n    document.body.classList.add('dark');\n    document.body.classList.remove('light');\n    checkbox.checked = true;\n}"],"names":["formData","form","saveLocalStorage","loadLocalStorage","saveData","event","USER_DATA","loginForm","loginBtn","emailInput","passwordInput","login","email","password","emailValue","passwordValue","fromLS","savedData","parsedData","checkbox","changeTheme"],"mappings":"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"}